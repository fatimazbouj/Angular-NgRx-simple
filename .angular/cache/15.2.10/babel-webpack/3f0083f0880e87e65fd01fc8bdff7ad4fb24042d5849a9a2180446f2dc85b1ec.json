{"ast":null,"code":"import { select } from '@ngrx/store';\nimport * as fromUsers from '../store/index';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/common\";\nfunction UsersListComponent_ng_container_0_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_ng_container_0_tr_19_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const book_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.onDeleteUser(book_r4));\n    });\n    i0.ɵɵtext(7, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const book_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r4.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r4.name);\n  }\n}\nfunction UsersListComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelement(2, \"input\", null, 2);\n    i0.ɵɵelementStart(4, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function UsersListComponent_ng_container_0_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const _r2 = i0.ɵɵreference(3);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onCreateUser(_r2.value));\n    });\n    i0.ɵɵtext(5, \"Create book\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 4)(7, \"table\")(8, \"th\");\n    i0.ɵɵtext(9, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"PHONE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"GENDER\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"ADDRESS\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"tbody\");\n    i0.ɵɵtemplate(19, UsersListComponent_ng_container_0_tr_19_Template, 8, 2, \"tr\", 5);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const data_r1 = ctx.ngIf;\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", data_r1.users);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    users: a0,\n    isLoading: a1\n  };\n};\nexport class UsersListComponent {\n  constructor(store) {\n    this.store = store;\n  }\n  ngOnInit() {\n    this.initDispatch();\n    this.initSubscriptions();\n  }\n  CreateUser(name) {\n    this.store.dispatch(fromUsers.createUsers({\n      user: {\n        id: Math.random(),\n        name\n      }\n    }));\n  }\n  UpdateUser(user) {\n    this.store.dispatch(fromUsers.updateUser({\n      user\n    }));\n  }\n  DeleteUser(user) {\n    this.store.dispatch(fromUsers.deleteUser({\n      user\n    }));\n  }\n  initDispatch() {\n    this.store.dispatch(fromUsers.getUsers());\n  }\n  initSubscriptions() {\n    this.users$ = this.store.pipe(select(fromUsers.selectUsersList));\n    this.isLoading$ = this.store.pipe(select(fromUsers.selectUserIsLoading));\n  }\n  static #_ = this.ɵfac = function UsersListComponent_Factory(t) {\n    return new (t || UsersListComponent)(i0.ɵɵdirectiveInject(i1.Store));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UsersListComponent,\n    selectors: [[\"app-users-list\"]],\n    decls: 3,\n    vars: 8,\n    consts: [[4, \"ngIf\"], [1, \"header\"], [\"inputElement\", \"\"], [3, \"click\"], [1, \"container\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function UsersListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, UsersListComponent_ng_container_0_Template, 20, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵpipe(2, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpureFunction2(5, _c0, i0.ɵɵpipeBind1(1, 1, ctx.users$), i0.ɵɵpipeBind1(2, 3, ctx.isLoading$)));\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i2.AsyncPipe],\n    styles: [\".user-table[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  border-collapse: collapse;\\r\\n}\\r\\n\\r\\n.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\r\\n  border: 1px solid #ddd;\\r\\n  padding: 8px;\\r\\n  text-align: left;\\r\\n}\\r\\n\\r\\n.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\r\\n  background-color: #f2f2f2;\\r\\n  font-weight: bold;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlcnMvdXNlcnMtbGlzdC91c2Vycy1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0VBQ1gseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLFlBQVk7RUFDWixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsaUJBQWlCO0FBQ25CIiwic291cmNlc0NvbnRlbnQiOlsiLnVzZXItdGFibGUge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbn1cclxuXHJcbi51c2VyLXRhYmxlIHRoLCAudXNlci10YWJsZSB0ZCB7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcclxuICBwYWRkaW5nOiA4cHg7XHJcbiAgdGV4dC1hbGlnbjogbGVmdDtcclxufVxyXG5cclxuLnVzZXItdGFibGUgdGgge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"AACA,SAAgBA,MAAM,QAAQ,aAAa;AAG3C,OAAO,KAAMC,SAAS,MAAM,gBAAgB;;;;;;;ICchCC,0BAAoC;IAC5BA,YAAW;IAAAA,iBAAK;IACpBA,0BAAI;IAAAA,YAAa;IAAAA,iBAAK;IACtBA,0BAAI;IAAQA;MAAA;MAAA;MAAA;MAAA,OAASA,2CAAkB;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAS;;;;IAFpDA,eAAW;IAAXA,gCAAW;IACXA,eAAa;IAAbA,kCAAa;;;;;;IApBjCA,6BAKC;IACGA,8BAAoB;IAChBA,iCAAqB;IACrBA,iCAAmD;IAA3CA;MAAAA;MAAA;MAAA;MAAA,OAASA,6CAAgC;IAAA,EAAC;IAACA,2BAAW;IAAAA,iBAAS;IAE3EA,8BAAuB;IAEXA,kBAAE;IAAAA,iBAAK;IACXA,2BAAI;IAAAA,qBAAI;IAAAA,iBAAK;IACbA,2BAAI;IAAAA,sBAAK;IAAAA,iBAAK;IACdA,2BAAI;IAAAA,uBAAM;IAAAA,iBAAK;IACfA,2BAAI;IAAAA,wBAAO;IAAAA,iBAAK;IAChBA,8BAAO;IACPA,kFAIK;IACLA,iBAAQ;IAGpBA,0BAAe;;;;IARkBA,gBAAa;IAAbA,uCAAa;;;;;;;;;ADP9C,OAAM,MAAOC,kBAAkB;EAI7BC,YAAoBC,KAAgB;IAAhB,UAAK,GAALA,KAAK;EAAa;EAEtCC,QAAQ;IACN,IAAI,CAACC,YAAY,EAAE;IACnB,IAAI,CAACC,iBAAiB,EAAE;EAC1B;EAGAC,UAAU,CAACC,IAAY;IACrB,IAAI,CAACL,KAAK,CAACM,QAAQ,CAACV,SAAS,CAACW,WAAW,CAAC;MACtCC,IAAI,EAAE;QACFC,EAAE,EAAEC,IAAI,CAACC,MAAM,EAAE;QACjBN;;KAEP,CAAC,CAAC;EACP;EAEAO,UAAU,CAACJ,IAAW;IAClB,IAAI,CAACR,KAAK,CAACM,QAAQ,CAACV,SAAS,CAACiB,UAAU,CAAC;MAACL;IAAI,CAAC,CAAC,CAAC;EACrD;EAEAM,UAAU,CAACN,IAAW;IAClB,IAAI,CAACR,KAAK,CAACM,QAAQ,CAACV,SAAS,CAACmB,UAAU,CAAC;MAACP;IAAI,CAAC,CAAC,CAAC;EACrD;EAGUN,YAAY;IAClB,IAAI,CAACF,KAAK,CAACM,QAAQ,CAACV,SAAS,CAACoB,QAAQ,EAAE,CAAC;EAC7C;EAEQb,iBAAiB;IACrB,IAAI,CAACc,MAAM,GAAG,IAAI,CAACjB,KAAK,CAACkB,IAAI,CAACvB,MAAM,CAACC,SAAS,CAACuB,eAAe,CAAC,CAAC;IAChE,IAAI,CAACC,UAAU,GAAG,IAAI,CAACpB,KAAK,CAACkB,IAAI,CAACvB,MAAM,CAACC,SAAS,CAACyB,mBAAmB,CAAC,CAAC;EAC5E;EAAC;qBArCYvB,kBAAkB;EAAA;EAAA;UAAlBA,kBAAkB;IAAAwB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCX/B7B,sFA0Be;;;;;QAzBVA,yHAGC","names":["select","fromUsers","i0","UsersListComponent","constructor","store","ngOnInit","initDispatch","initSubscriptions","CreateUser","name","dispatch","createUsers","user","id","Math","random","UpdateUser","updateUser","DeleteUser","deleteUser","getUsers","users$","pipe","selectUsersList","isLoading$","selectUserIsLoading","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Administrator\\Desktop\\R&D\\angular\\NgRx-simple\\src\\app\\users\\users-list\\users-list.component.ts","C:\\Users\\Administrator\\Desktop\\R&D\\angular\\NgRx-simple\\src\\app\\users\\users-list\\users-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Store, select } from '@ngrx/store';\nimport { IUser } from '../interfaces/user.interface';\nimport { Observable } from 'rxjs';\nimport * as  fromUsers from '../store/index'\n\n@Component({\n  selector: 'app-users-list',\n  templateUrl: './users-list.component.html',\n  styleUrls: ['./users-list.component.css'],\n})\nexport class UsersListComponent implements OnInit{\n  users$: Observable<IUser[]> | undefined;\n  isLoading$: Observable<boolean>|undefined;\n\n  constructor(private store:Store<any>){}\n\n  ngOnInit(): void {\n    this.initDispatch();\n    this.initSubscriptions();\n  }\n\n\n  CreateUser(name: string): void {\n    this.store.dispatch(fromUsers.createUsers({\n        user: {\n            id: Math.random(),\n            name\n        }\n    }));\n}\n\nUpdateUser(user: IUser): void {\n    this.store.dispatch(fromUsers.updateUser({user}));\n}\n\nDeleteUser(user: IUser): void {\n    this.store.dispatch(fromUsers.deleteUser({user}));\n}\n\n\n  private initDispatch(): void {\n    this.store.dispatch(fromUsers.getUsers());\n}\n\nprivate initSubscriptions(): void {\n    this.users$ = this.store.pipe(select(fromUsers.selectUsersList));\n    this.isLoading$ = this.store.pipe(select(fromUsers.selectUserIsLoading));\n}\n}\n","<ng-container\n    *ngIf=\"{\n        users: users$ | async,\n        isLoading: isLoading$ | async\n    } as data\"\n>\n    <div class=\"header\">\n        <input #inputElement>\n        <button (click)=\"onCreateUser(inputElement.value)\">Create book</button>\n    </div>\n    <div class=\"container\">\n        <table>\n            <th>ID</th>\n            <th>Name</th>\n            <th>PHONE</th>\n            <th>GENDER</th>\n            <th>ADDRESS</th>\n            <tbody>\n            <tr *ngFor=\"let book of data.users\">\n                <td>{{book.id}}</td>\n                <td>{{book.name}}</td>\n                <td><button (click)=\"onDeleteUser(book)\">Delete</button></td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</ng-container>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}